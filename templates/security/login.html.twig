{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white flex flex-col">
    <!-- Header -->
    {% include 'partials/header.html.twig' %}

    <div class="flex-grow flex items-center justify-center px-4">
        <div class="bg-gray-900 text-white rounded-2xl shadow-2xl w-full max-w-md p-8 space-y-6">

            <h2 class="text-3xl font-extrabold text-center text-white">Connexion</h2>

            {% if error %}
                <div class="bg-red-600 text-white p-3 rounded mb-4 text-sm">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            <form method="post" class="space-y-4">
                <div>
                    <label for="inputEmail" class="block text-sm text-gray-400 mb-1">Email</label>
                    <input type="email" id="inputEmail" name="email" value="{{ last_username }}"
                           class="w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-800 placeholder-gray-500
                                  focus:outline-none focus:ring-1 focus:ring-violet-500 duration-300"
                           placeholder="votre@email.com" required autofocus>
                </div>

                <div>
                    <label for="inputPassword" class="block text-sm text-gray-400 mb-1">Mot de passe</label>
                    <input type="password" id="inputPassword" name="password"
                           class="w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-800 placeholder-gray-500
                                  focus:outline-none focus:ring-1 focus:ring-violet-500 duration-300"
                           placeholder="••••••••" required>
                </div>

                <div class="text-right text-sm">
                    <a href="{{ path('app_no_time')}}" class="text-violet-400 hover:underline">Mot de passe oublié ?</a>
                </div>

                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                <button type="submit"
                        class="cursor-pointer bg-violet-600 hover:bg-violet-700 text-white font-semibold py-3 w-full px-6 rounded-md duration-300">
                    Se connecter
                </button>
            </form>

            <div class="flex items-center my-6">
                <hr class="flex-grow border-gray-700">
                <span class="mx-3 text-gray-500 text-sm">ou</span>
                <hr class="flex-grow border-gray-700">
            </div>

            <div class="flex justify-center space-x-6 text-white text-xl">
                <a href="{{ path('app_no_time', {'provider': 'google'}) }}" class="hover:text-gray-300"><i class="fab fa-google"></i></a>
                <a href="{{ path('app_no_time', {'provider': 'twitter'}) }}" class="hover:text-gray-300"><i class="fab fa-twitter"></i></a>
                <a href="{{ path('app_no_time', {'provider': 'github'}) }}" class="hover:text-gray-300"><i class="fab fa-github"></i></a>
            </div>

            <p class="text-center text-sm text-gray-400">Pas encore de compte ?
                <a href="{{ path('app_register') }}" class="text-violet-400 hover:underline">Inscription</a>
            </p>
        </div>
    </div>

    <!-- Footer -->
    {% include 'partials/footer.html.twig' %}
</div>
{% endblock %}