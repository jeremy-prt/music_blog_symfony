<header id="main-header" class="w-full fixed top-0 left-0 z-50 transition-all duration-300 custom-header">
    <nav class="container mx-auto flex justify-between items-center p-4">
        <div class="flex items-center space-x-8">
            <a href="{{ path('app_home') }}" class="group">
                <img src="{{ asset('images/logo.png') }}" alt="Aperçu blog musical" class="w-12 rounded-md transform transition-transform duration-500 group-hover:rotate-y-180">
            </a>
            <div class="space-x-4">
                <a href="{{ path('app_home') }}" class="hover:text-violet-300 duration-300">Accueil</a>
                <a href="{{ path('app_home') }}" class="hover:text-violet-300 duration-300">À propos</a>
            </div>
        </div>
        <div class="flex flex-wrap justify-center gap-4">
            {% if app.user %}
                <div class="flex items-center gap-4 text-xl">
                    <a href="{{ path('app_espace') }}"
                    class="text-violet-400 hover:text-violet-600 transition duration-200"
                    title="Mon espace">
                        <i class="fas fa-user-circle"></i>
                    </a>
                    <a href="{{ path('app_logout') }}"
                    class="text-red-500 hover:text-red-700 transition duration-200"
                    title="Déconnexion">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            {% else %}
                <a href="{{ path('app_login') }}" class="bg-white text-violet-700 hover:bg-violet-100 font-semibold py-2 px-6 rounded-md duration-300">
                    Connexion
                </a>
                <a href="{{ path('app_register') }}" class="bg-violet-600 hover:bg-violet-700 text-white font-semibold py-2 px-6 rounded-md duration-300">
                    Créer un compte
                </a>
            {% endif %}
        </div>
    </nav>
</header>

<style>
    .custom-header.scrolled {
        background-color: rgba(17, 24, 39, 0.85); /* gris foncé semi-transparent */
        backdrop-filter: blur(8px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
</style>

<script>
    window.addEventListener('scroll', () => {
        const header = document.getElementById('main-header');
        if (window.scrollY > 0) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
</script>